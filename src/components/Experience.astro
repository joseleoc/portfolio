---
import { experiences } from '../data/experience';
import { getLangFromUrl, useTranslations } from '../utils/i18n';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---
<section id="experience" class="py-20 px-4">
  <div class="max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold mb-12 text-center">{t('experience.title')}</h2>
    <div class="space-y-12">
      {experiences.map((experience) => (
        <div class="relative pl-8 border-l-2 border-blue-600 dark:border-blue-400">
          <div class="absolute w-4 h-4 bg-blue-600 dark:bg-blue-400 rounded-full -left-[9px] top-0"></div>
          <div class="mb-1">
            <h3 class="text-xl font-bold">{experience.title}</h3>
            <p class="text-gray-600 dark:text-gray-400">{experience.company} | {experience.period}</p>
          </div>
          <ul class="list-disc list-inside mb-4 text-gray-700 dark:text-gray-300">
            {experience.description.map(desc => (
              <li>{desc}</li>
            ))}
          </ul>
          <div class="flex flex-wrap gap-2">
            {experience.technologies.map(tech => (
              <span class="px-3 py-1 bg-gray-200 dark:bg-gray-800 rounded-full text-sm">
                {tech}
              </span>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>